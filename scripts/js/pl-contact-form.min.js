var pl;!function(t){var e=function(){function e(n,i){if(void 0===i&&(i={}),this._handlers={},this._letCloseWindow=!0,this._req=new XMLHttpRequest,this._settings={},!(n instanceof HTMLElement))throw"Template is not an HTMLElement";var s={method:"POST",url:"send-mail.php",async:!0};this._form=n,this._inputs=e.getInputs(this._form),this._settings=t.Util.extendsDefaults(s,i),this.initializeEvents()}return e.getInputs=function(t){var e=["input[type=text]","input[type=checkbox]","input[type=radio]","textarea"];return t.querySelectorAll(e.join(","))},e.isInputValid=function(e){var n=e.dataset.validate,i=e.name,s=e.value;switch(n){case"notEmpty":return t.Validator.notEmpty(s);case"phone":return t.Validator.phone(s);case"email":return t.Validator.email(s);default:return"console"in window&&console.log("Unknown validation type: "+i),!0}},e.isInvalidKey=function(e){var n,i=[t.Key.ALT,t.Key.CAPS_LOCK,t.Key.CTRL,t.Key.DOWN_ARROW,t.Key.LEFT_ARROW,t.Key.RIGHT_ARROW,t.Key.SELECT,t.Key.SHIFT,t.Key.UP_ARROW,t.Key.TAB];for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},e.toggleInputError=function(n){n.type;var i=n["clue-elem"],s="";e.isInputValid(n)?(i&&(i.parentNode.removeChild(i),n["clue-elem"]=null),t.Util.removeClass(n,"invalid")):(i||(s=n.dataset.clue||"InvÃ¡lido",(i=document.createElement("span")).innerText=s,t.Util.addClass(i,"input-clue"),n["clue-elem"]=i,t.Util.insertBefore(i,n)),t.Util.addClass(n,"invalid"))},e.prototype.ajaxRequest=function(t){var e=this._settings,n="data="+JSON.stringify(t);this._req.open(e.method,e.url,e.async),this._req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._req.send(n)},e.prototype.beforeUnload=function(){if(!this._letCloseWindow)return"Sending message"},e.prototype.getFormData=function(){var t={};return[].forEach.call(this._inputs,function(e){t[e.name]=e.value}),t},e.prototype.handleProgress=function(t){console.log("progress"),console.log(t)},e.prototype.handleFailed=function(t){console.log("failed"),console.log(t)},e.prototype.handleSuccess=function(t){console.log("success"),console.log(t)},e.prototype.initializeEvents=function(){var t=this;this.handleFailed=this.handleFailed.bind(this),this.handleProgress=this.handleProgress.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.beforeUnload=this.beforeUnload.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onSubmit=this.onSubmit.bind(this),window.onbeforeunload=this.beforeUnload,[].forEach.call(this._inputs,function(e){"text"!==e.type&&"textarea"!==e.tagName.toLowerCase()||e.addEventListener("keyup",t.onInputChange,!1),e.addEventListener("change",t.onInputChange,!1)}),this._form.addEventListener("submit",this.onSubmit,!1),this._req.addEventListener("error",this.handleFailed,!1),this._req.addEventListener("progress",this.handleProgress,!1),this._req.addEventListener("load",this.handleSuccess,!1)},e.prototype.onInputChange=function(t){var n=t.which||t.keyCode||0;if(!e.isInvalidKey(n)){var i=t.target;e.toggleInputError(i)}},e.prototype.onSubmit=function(t){t.preventDefault();t.target;var n=!0;if([].forEach.call(this._inputs,function(t){e.isInputValid(t)||(e.toggleInputError(t),n=!1)}),!n)throw"There are invalid inputs.";var i={host:location.hostname,data:this.getFormData()};this.ajaxRequest(i)},e.prototype.addHandler=function(t,e){this._handlers[t]=e},e.prototype.reset=function(){this._form.reset()},e}();t.ContactForm=e}(pl||(pl={})),function(t){!function(t){t[t.ALT=18]="ALT",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.CTRL=17]="CTRL",t[t.DOWN_ARROW=40]="DOWN_ARROW",t[t.LEFT_ARROW=37]="LEFT_ARROW",t[t.RIGHT_ARROW=39]="RIGHT_ARROW",t[t.SELECT=93]="SELECT",t[t.SHIFT=16]="SHIFT",t[t.UP_ARROW=38]="UP_ARROW",t[t.TAB=9]="TAB"}(t.Key||(t.Key={}))}(pl||(pl={})),function(t){var e=function(){function t(){}return t.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},t.addClass=function(e,n){e.classList?e.classList.add(n):t.hasClass(e,n)||(e.className+=" "+n)},t.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")},t.insertBefore=function(t,e){e.parentNode.insertBefore(t,e)},t.insertAfter=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t.extendsDefaults=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t}();t.Util=e}(pl||(pl={})),function(t){var e=function(){function t(){}return t.email=function(e){return!!t.isString(e)&&/[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/.test(e)},t.hash=function(e){return!!t.isString(e)&&/^#\w*/.test(e)},t.notEmpty=function(e){return!!t.isString(e)&&!!e.length},t.phone=function(e){return!!t.isString(e)&&10===e.replace(/[^\d]/g,"").length},t.isArray=function(t){return t instanceof Array},t.isBoolean=function(t){return"boolean"==typeof t},t.isNumber=function(e){return t.toString(e)===typeof e},t.isString=function(t){return"string"==typeof t},t.toString=function(t){return new String(t).toString()},t}();t.Validator=e}(pl||(pl={}));