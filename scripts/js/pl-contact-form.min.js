var pl;!function(t){var e;(e=t.Key||(t.Key={}))[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.CTRL=17]="CTRL",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.SELECT=93]="SELECT",e[e.SHIFT=16]="SHIFT",e[e.UP_ARROW=38]="UP_ARROW",e[e.TAB=9]="TAB"}(pl||(pl={})),function(t){var e=function(){function t(){this._handlers=[],this._scope=this||window}return t.prototype.add=function(t){t&&this._handlers.push(t)},t.prototype.fire=function(){var e=this,n=arguments;this._handlers.forEach(function(t){t.apply(e._scope,n)})},t.prototype.remove=function(e){this._handlers=this._handlers.filter(function(t){if(t!=e)return t})},t}();t.PLEvent=e}(pl||(pl={})),function(t){var e=function(){function n(){}return n.addClass=function(t,e){t.classList?t.classList.add(e):n.hasClass(t,e)||(t.className+=" "+e)},n.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},n.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")},n.reset=function(t){t.className=""},n.toggleClass=function(t,e){t.classList?t.classList.toggle(e):n.hasClass(t,e)?n.removeClass(t,e):n.addClass(t,e)},n}();t.Classie=e}(pl||(pl={})),function(t){var e=function(){function t(){}return t.capitalizeText=function(t){return t.replace(/\w/,function(t){return t.toUpperCase()})},t.extendsDefaults=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i={};for(n=0;n<t.length;n++)!function(t){var e;for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e])}(t[n]);return i},t}();t.Util=e}(pl||(pl={})),function(t){var e=function(){function o(){}return o.count=function(t,e){var n=o.toString(t);return"undefined"!==n&&"null"!==n&&"NaN"!==n&&"Infinity"!==n&&n.length===e},o.creditCardNumber=function(t){return!!o.isString(t)&&/^(\d{4}-?){3}\d{4}$/.test(t)},o.date=function(t){if(!o.isString(t))return!1;if(!/^\d{1,2}\/|-\d{1,2}\/|-\d{4}$/.test(t))return!1;var e=t.split(/\/|-/),n=parseInt(e[0],10),i=parseInt(e[1],10),r=parseInt(e[2],10);if(r<1e3||3e3<r||0==i||12<i)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400==0||r%100!=0&&r%4==0)&&(s[1]=29),0<n&&n<=s[i-1]},o.datetime=function(t){throw"Not implemented yet"},o.email=function(t){return!!o.isString(t)&&/[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/.test(t)},o.equality=function(t,e){return!(!o.isString(t)&&!o.isString(e))&&t===e},o.hash=function(t){return!!o.isString(t)&&/^#\w*/.test(t)},o.notEmpty=function(t){return!!o.isString(t)&&!!t.length},o.phone=function(t){return!!o.isString(t)&&10===t.replace(/[^\d]/g,"").length},o.range=function(t,e,n){var i=o.toString(t);return"undefined"!==i&&"null"!==i&&"NaN"!==i&&"Infinity"!==i&&(e=o.toInteger(e),"number"!=typeof(n=o.toInteger(n))||isNaN(n)?i.length>=e:i.length>=e&&i.length<=n)},o.url=function(t){return!!o.isString(t)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},o.isArray=function(t){return t instanceof Array},o.isBoolean=function(t){return"boolean"==typeof t},o.isNumber=function(t){return"number"==typeof t},o.isString=function(t){return"string"==typeof t},o.toFloat=function(t){return parseFloat(t)},o.toInteger=function(t){return parseInt(t)},o.toString=function(t){return String(t)},o}();t.Validator=e}(pl||(pl={})),function(h){var t=function(){function t(t,e){if(void 0===e&&(e={}),this._letCloseWindow=!0,this._req=new XMLHttpRequest,this._settings={},!(t instanceof HTMLElement))throw"Template is not an HTMLFormElement";this._element=t,this._settings=h.Util.extendsDefaults({url:"process-ajax.php",useAjax:!0,inputSelectors:["input[type=text]","select","textarea"]},e),this.initializeEvents()}return t.prototype.ajaxRequest=function(t){var e=this._settings,n="data="+JSON.stringify(t);this.onSending(),this._req.open("POST",e.url,!0),this._req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._req.send(n)},t.prototype.beforeUnload=function(){if(!this._letCloseWindow)return"Sending message"},t.prototype.disableForm=function(){var e=this;this._disabled?h.Classie.addClass(this.element,"disabled"):h.Classie.removeClass(this.element,"disabled"),[].forEach.call(this.inputs,function(t){t.disabled=e._disabled})},t.prototype.getInputContainer=function(t,e){for(var n=t;n=n.parentNode;)if(n instanceof HTMLElement){if(e&&h.Classie.hasClass(n,"input-container"))break;if(!e&&(h.Classie.hasClass(n,"input-group")||"fieldset"===n.tagName.toLowerCase()))break}return n},t.prototype.handleChange=function(t){if(!this.isInvalidKey(t.which||t.keyCode||0)){var e=t.target,n=this.validate(e);this.onInputChange(e,n)}},t.prototype.handleReadyStateChange=function(t){4===this._req.readyState&&(200===this._req.status?this.onSuccess(this._req.responseText,this._req.status,this._req.statusText):this.onError(this._req.status,this._req.statusText))},t.prototype.initializeEvents=function(){var e=this;this.beforeUnload=this.beforeUnload.bind(this),this.handleChange=this.handleChange.bind(this),this.submit=this.submit.bind(this),this.handleReadyStateChange=this.handleReadyStateChange.bind(this),[].forEach.call(this.inputs,function(t){"text"!==t.type&&"textarea"!==t.tagName.toLowerCase()||t.addEventListener("keyup",e.handleChange,!1),t.addEventListener("change",e.handleChange,!1)}),this.element.addEventListener("submit",this.submit,!1),window.onbeforeunload=this.beforeUnload,this._req.onreadystatechange=this.handleReadyStateChange},t.prototype.isInvalidKey=function(t){var e,n=[h.Key.ALT,h.Key.CAPS_LOCK,h.Key.CTRL,h.Key.DOWN_ARROW,h.Key.LEFT_ARROW,h.Key.RIGHT_ARROW,h.Key.SELECT,h.Key.SHIFT,h.Key.UP_ARROW,h.Key.TAB];for(e=0;e<n.length;e++)if(n[e]===t)return!0;return!1},t.prototype.isCheckboxValid=function(t){var e=t.name,n=this.checkboxes[e],i=!1;return n.forEach(function(t){t.checked&&(i=!0)}),i},t.prototype.isRadioValid=function(t){var e=t.name,n=this.radios[e],i=!1;return n.forEach(function(t){t.checked&&(i=!0)}),i},t.prototype.isTextValid=function(t){if("string"!=typeof t.dataset.validate)return!0;for(var s=t.dataset.validate.split("|"),o=t.name,a=t.value,u=!1,e=function(t){var e,n=s[t],i=[];i.push(a);try{if(-1<s[t].indexOf(":"))if(n=s[t].slice(0,s[t].indexOf(":")),e=s[t].slice(s[t].indexOf(":")+1),"equality"===n){var r=l.texts.filter(function(t){return t.name===e});i.push(r[0].value)}else i=i.concat(e.split(","));u=h.Validator[n].apply(l,i)}catch(t){"console"in window&&console.log('Unknown "%s" validation in "%s" input',n,o)}if(!u)return"break"},l=this,n=0;n<s.length;n++){if("break"===e(n))break}return u},t.prototype.toggleInputError=function(t,e){var n=t.type,i=t["clue-elem"],r="",s="checkbox"!==n&&"radio"!==n,o=this.getInputContainer(t,s);e?(i&&(i.parentNode.removeChild(i),t["clue-elem"]=null),h.Classie.removeClass(t,"invalid"),o&&h.Classie.removeClass(o,"invalid")):(i||(r=t.dataset.clue||"Invalid",(i=document.createElement("span")).innerText=r,h.Classie.addClass(i,"input-clue"),t["clue-elem"]=i,t.parentNode.insertBefore(i,t)),h.Classie.addClass(t,"invalid"),o&&h.Classie.addClass(o,"invalid"))},t.prototype.validate=function(t){var e,n=this,i=t.type,r=t.name;return"checkbox"===i?(e=this.isCheckboxValid(t),this.checkboxes[r].forEach(function(t){n.toggleInputError(t,e)})):"radio"===i?(e=this.isRadioValid(t),this.radios[r].forEach(function(t){n.toggleInputError(t,e)})):(e=this.isTextValid(t),this.toggleInputError(t,e)),e||this.onInputError(t),e},t.prototype.getFormValues=function(){var e,n,i={};return[].forEach.call(this.inputs,function(t){e=t.name,"checkbox"===(n=t.type)&&t.checked&&("string"==typeof i[e]?i[e]+=", "+t.value:i[e]=t.value),"radio"===n&&t.checked&&(i[e]=t.value),"text"!==n&&"hidden"!==n&&"textarea"!==t.tagName.toLowerCase()||(i[e]=t.value)}),i},t.prototype.isFormValid=function(){var t,e,n=this,i=!0;for(t in this.checkboxes)e=this.checkboxes[t][0],this.validate(e)||(i=!1);for(t in this.radios)e=this.radios[t][0],this.validate(e)||(i=!1);return this.texts.forEach(function(t){n.validate(t)||(i=!1)}),i},t.prototype.reset=function(){this.element.reset()},t.prototype.submit=function(t){if(this.isFormValid()){if(this._settings.useAjax){if(this._disabled)return;t&&t.preventDefault();var e={host:location.hostname,data:this.getFormValues()};this.ajaxRequest(e)}}else t&&t.preventDefault()},t.prototype.onError=function(t,e){this._error&&this._error.fire(t,e),this.disabled=!1,this._letCloseWindow=!0},t.prototype.onInputChange=function(t,e){this._inputChange&&this._inputChange.fire(t,e)},t.prototype.onInputError=function(t){this._inputError&&this._inputError.fire(t)},t.prototype.onSending=function(){this._sending&&this._sending.fire(),this.disabled=!0,this._letCloseWindow=!1},t.prototype.onSuccess=function(t,e,n){this._success&&this._success.fire(t,e,n),this.disabled=!1,this._letCloseWindow=!0;var i=parseInt(t);isNaN(i)||1!==i||this.reset()},Object.defineProperty(t.prototype,"error",{get:function(){return this._error||(this._error=new h.PLEvent),this._error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputError",{get:function(){return this._inputError||(this._inputError=new h.PLEvent),this._inputError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputChange",{get:function(){return this._inputChange||(this._inputChange=new h.PLEvent),this._inputChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sending",{get:function(){return this._sending||(this._sending=new h.PLEvent),this._sending},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"success",{get:function(){return this._success||(this._success=new h.PLEvent),this._success},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t!==this._disabled&&(this._disabled=t,this.disableForm())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){if(!this._inputs){var t=this._settings.inputSelectors;this._inputs=this._element.querySelectorAll(t.join(","))}return this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkboxes",{get:function(){var e=this;return this._checkboxes||(this._checkboxes={},[].forEach.call(this.inputs,function(t){"checkbox"===t.type&&(e._checkboxes.hasOwnProperty(t.name)||(e._checkboxes[t.name]=[]),e._checkboxes[t.name].push(t))})),this._checkboxes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radios",{get:function(){var e=this;return this._radios||(this._radios={},[].forEach.call(this.inputs,function(t){"radio"===t.type&&(e._radios.hasOwnProperty(t.name)||(e._radios[t.name]=[]),e._radios[t.name].push(t))})),this._radios},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"texts",{get:function(){var e=this;return this._texts||(this._texts=[],[].forEach.call(this.inputs,function(t){"text"!==t.type&&"hidden"!==t.type&&"textarea"!==t.tagName.toLowerCase()||e._texts.push(t)})),this._texts},enumerable:!0,configurable:!0}),t}();h.ContactForm=t}(pl||(pl={}));